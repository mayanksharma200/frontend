import{f as A,u as H,a as P,r as c,j as e,m as n,g as k,h as E,i as L,b as S}from"./vendor-Dwu5sJ_-.js";const T=()=>{var p,f,b,j,w,y,v,N;const{id:m}=A(),d=H(),C=P(),[r,I]=c.useState(null),[W,x]=c.useState(!0),[g,h]=c.useState(null),l=((p=C.state)==null?void 0:p.from)||"/";c.useEffect(()=>{(async()=>{var i,a;try{x(!0);const s=await S.get(`https://fitness-backend-api-production.up.railway.app/api/posts/${m}`);I(s.data),h(null)}catch(s){console.error("Error fetching article:",s),h(((a=(i=s.response)==null?void 0:i.data)==null?void 0:a.message)||s.message||"Failed to load article. Please try again later.")}finally{x(!1)}})()},[m]);const R=()=>{d(l)},u=({href:t,children:i})=>{if(!t)return e.jsx(e.Fragment,{children:i});if(t.startsWith("/article/")||t.startsWith(window.location.origin+"/article/")){const s=t.split("/").pop();return e.jsx("span",{className:"text-indigo-400 hover:text-indigo-300 cursor-pointer underline underline-offset-4 decoration-1",onClick:()=>d(`/article/${s}`,{state:{from:l}}),role:"link",tabIndex:0,onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&d(`/article/${s}`,{state:{from:l}})},children:i})}return e.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:text-indigo-300 underline underline-offset-4 decoration-1",children:i})};return W?e.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading content..."})]}):g?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-red-500 max-w-md text-center",children:[g,e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try again"})]})}):r?e.jsx(n.div,{className:"min-h-screen bg-white w-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsxs("div",{className:"w-full px-4 py-12 md:ml-15 md:max-w-[78%] lg:px-8 mx-auto",children:[e.jsxs(n.button,{onClick:R,className:"flex items-center text-indigo-600 mb-8 hover:text-indigo-800 transition-colors",whileHover:{x:-5},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to"," ",l==="/"?"Home":l.includes("nutrition")?"Nutrition":"Articles"]}),e.jsxs(n.article,{className:"bg-white rounded-xl shadow-lg overflow-hidden w-full border border-gray-100",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[r.image&&e.jsxs("div",{className:"h-64 md:h-96 w-full overflow-hidden relative",children:[e.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover",onError:t=>{t.target.onerror=null,t.target.src="https://via.placeholder.com/800x400?text=Image+Not+Available"}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-900/70 to-transparent"})]}),e.jsxs("div",{className:"p-6 md:p-8 lg:p-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-8 gap-4",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 leading-tight",children:r.title}),e.jsxs("div",{className:"flex flex-wrap items-center text-gray-500 text-sm gap-2",children:[((f=r.meta)==null?void 0:f.reviewer)&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:["Medically reviewed by ",r.meta.reviewer]}),e.jsx("span",{children:"â€¢"})]}),e.jsxs("span",{children:["Written by ",((b=r.meta)==null?void 0:b.author)||"Unknown author"," on"," ",((j=r.meta)==null?void 0:j.date)||"unknown date"]})]})]}),((w=r.meta)==null?void 0:w.readTime)&&e.jsx("span",{className:"text-xs text-indigo-600 bg-indigo-50 px-3 py-2 rounded-full md:min-w-[100px] text-center",children:r.meta.readTime})]}),((y=r.content)==null?void 0:y.summary)&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-12 w-full",children:r.content.summary.map((t,i)=>e.jsxs(n.div,{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",whileHover:{y:-3},children:[e.jsx("h3",{className:"text-indigo-600 text-sm font-bold mb-2 uppercase tracking-wider",children:t.title}),e.jsx("p",{className:"text-gray-700 text-sm",children:t.text})]},i))}),e.jsx("div",{className:"w-full",children:(N=(v=r.content)==null?void 0:v.body)==null?void 0:N.map((t,i)=>e.jsxs(n.div,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+i*.1},children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-100",children:t.headline}),e.jsx("div",{className:"text-gray-700 text-lg leading-relaxed mb-6 space-y-4",children:e.jsx(k,{children:t.content,remarkPlugins:[L],rehypePlugins:[E],components:{a:u}})}),t.subsections&&t.subsections.map((a,s)=>{var o;return e.jsxs("div",{className:"mb-6 pl-4 border-l-2 border-indigo-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-indigo-600 mb-3",children:((o=a.subheading)==null?void 0:o.trim())||a.subheadline||""}),e.jsx("div",{className:"text-gray-700 text-lg leading-relaxed space-y-4",children:e.jsx(k,{children:a.content,remarkPlugins:[L],rehypePlugins:[E],components:{a:u}})})]},s)}),t.keywords&&t.keywords.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.keywords.map((a,s)=>e.jsx("span",{className:"bg-indigo-100 text-indigo-600 text-xs font-semibold px-3 py-1 rounded-full select-none",children:a},s))})]},i))}),r.related_studies&&r.related_studies.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6 pb-2 border-b border-gray-100",children:"Related Studies"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.related_studies.map((t,i)=>{const a=/^\/article\//.test(t.link);return e.jsxs(n.div,{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",whileHover:{y:-3},children:[e.jsx("h4",{className:"text-indigo-600 font-medium mb-2",children:t.title}),a?e.jsxs("button",{onClick:()=>{const s=t.link.split("/").pop();d(`/article/${s}`,{state:{from:l}})},className:"text-gray-700 hover:text-indigo-600 text-sm flex items-center",children:["Read more",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):e.jsxs("a",{href:t.link,className:"text-gray-700 hover:text-indigo-600 text-sm flex items-center",target:"_blank",rel:"noopener noreferrer",children:["Read more",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},i)})})]}),e.jsxs("div",{className:"mt-16 w-full bg-indigo-50 rounded-xl p-8 border border-indigo-100",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"FITNESS CLUB NEWSLETTER"}),e.jsx("h4",{className:"text-xl text-indigo-600 mb-4",children:"Get our Health & Wellness newsletter"}),e.jsx("p",{className:"text-gray-700 mb-6 text-lg",children:"We'll send self-care tips and coping techniques from our experts straight to your inbox."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-grow bg-white border border-gray-300 rounded-lg px-5 py-3 text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-lg"}),e.jsx("button",{className:"px-8 py-3 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white rounded-lg font-medium transition-colors text-lg",children:"JOIN NOW"})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"text-gray-800",children:"Article not found"})})};export{T as default};
